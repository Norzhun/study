
## Рациональное число

Рациональное число – это число, которое можно представить в виде дроби m/n​, где m,n соответственно, числитель и знаменатель, которые имеют целочисленное значение, при этом знаменатель не равен нулю.
## Тип данных Fraction

Для работы с рациональными числами в Python используется тип данных `Fraction`. Тип данных `Fraction` как и `Decimal` реализован программно, поэтому он в разы медленнее встроенных числовых типов данных `int` и `float`. Тип данных `Fraction` неизменяемый. Операции над данными этого типа приводят к созданию новых объектов, при этом старые не меняются.

Чтобы использовать возможности типа данных `Fraction` нужно предварительно подключить модуль `fractions`:

```python
from fractions import Fraction
```
### Создание Fraction

Создать `Fraction` число можно несколькими способами:

- из целых чисел, передав значения числителя и знаменателя дроби,
- из строки на основании десятичного представления;
- из строки на основании обыкновенной дроби;
- из числа с плавающей точкой (не рекомендуется).

Приведенный ниже программный код создает `Fraction` числа на основе целых чисел и строк:

```python
from fractions import Fraction

num1 = Fraction(3, 4)     # 3 - числитель, 4 - знаменатель
num2 = Fraction('0.55')
num3 = Fraction('1/9')

print(num1, num2, num3, sep='\n')
```

и выводит:

```no-highlight
3/4
11/20
1/9
```

Нужно быть очень внимательным при создании `Fraction` чисел из чисел с плавающей точкой (`float`), потому что `float` числа округляются внутри до ближайшего возможного, а `Fraction` об этом ничего не знает, поэтому копирует содержимое `float`.

Приведенный ниже программный код создает `Fraction` число на основе числа с плавающей точкой:

```python
from fractions import Fraction

num = Fraction(0.34)

print(num)
```

вместо ожидаемого вывода:

```no-highlight
17/50
```

 код выводит:

```no-highlight
6124895493223875/18014398509481984
```
### Арифметические операции над Fraction числами

Тип данных `Fraction` отлично интегрирован в язык Python. С `Fraction` числами работают все привычные операции: сложение, вычитание, умножение, деление, возведение в степень.
Мы также можем совершать арифметические операции над `Fraction` и целыми числами (миксовать `Fraction` и `int`), но не рекомендуется смешивать их с `float`.
Обратите внимание, на то, что операция возведения в степень (`**`) для `Fraction` чисел может возвращать вещественный результат.

Приведенный ниже код:

```python
from fractions import Fraction

num1 = Fraction('3/8')
num2 = Fraction('1/2')

print(num1 ** num2)
```

выводит:

```no-highlight
0.6123724356957945
```
### Свойства numerator и denominator

Для получения числителя и знаменателя `Fraction` числа используются свойства `numerator` и `denominator`.

Приведенный ниже код:

```python
from fractions import Fraction

num = Fraction('5/16')

print('Числитель дроби равен:', num.numerator)
print('Знаменатель дроби равен:', num.denominator)
```

выводит:

```no-highlight
Числитель дроби равен: 5
Знаменатель дроби равен: 16
```

В Python 3.8 появился метод `as_integer_ratio()`, который возвращает кортеж, состоящий из числителя и знаменателя данного `Fraction` числа.

Приведенный ниже код:

```python
from fractions import Fraction

num = Fraction('-5/16')

print(num.as_integer_ratio())
```

выводит:

```no-highlight
(-5, 16)
```
### Метод limit_denominator()

Метод `limit_denominator()` возвращает самую близкую к данному числу рациональную дробь, чей знаменатель не превосходит переданного аргумента.

Приведенный ниже код:

```python
for d in [1, 5,  50, 90, 100, 500, 1000000]:
    limited = num.limit_denominator(d)
    print(limited)
```

выводит:

```no-highlight
3
16/5
22/7
267/85
311/99
355/113
3126535/995207
```

**Примечание 3.** В Python нельзя совершать арифметические операции (`+, -, *, /`) между типами `Decimal` и `Fraction`. 

Приведенный ниже код:

```python
from decimal import Decimal
from fractions import Fraction

num1 = Decimal('12.5')
num2 = Fraction(19, 3)

print(num1 + num2)
```

приводит к ошибке:

```no-highlight
TypeError: unsupported operand type(s) for +: 'Decimal' and 'Fraction'
```