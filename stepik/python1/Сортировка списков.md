[[python_learn1]]
## Основные алгоритмы сортировки

**Медленные:**

1. Пузырьковая сортировка (Bubble sort);
2. Сортировка выбором (Selection sort);
3. Сортировка простыми вставками (Insertion sort).

**Быстрые:**

1. Сортировка Шелла (Shell sort);
2. Быстрая сортировка (Quick sort);
3. Сортировка слиянием (Merge sort);
4. Пирамидальная сортировка (Heap sort);
5. Сортировка TimSort (используется в Java и Python).

## Сортировка пузырьком

Алгоритм сортировки пузырьком состоит из повторяющихся проходов по сортируемому списку. За каждый проход элементы последовательно сравниваются попарно и, если порядок в паре неверный, выполняется обмен элементов. Проходы по списку повторяются �−1n−1 раз, где �n – длина списка. При каждом проходе алгоритма по внутреннему циклу, очередной наибольший элемент списка ставится на свое место в конце списка рядом с предыдущим «наибольшим элементом».

Наибольший элемент каждый раз «всплывает» до нужной позиции, как пузырёк в воде — отсюда и название алгоритма.

Алгоритм пузырьковой сортировки считается учебным и практически не применяется вне учебной литературы, а на практике применяются более эффективные.

Рассмотрим работу алгоритма на примере сортировки списка `a = [5, 1, 4, 2, 8]` по возрастанию.

**Первый проход:**

1. `[**5, 1**, 4, 2, 8]` → `[**1, 5**, 4, 2, 8]`: меняем местами первый и второй элементы, так как 5>15>1;
2. `[1, **5, 4**, 2, 8]` → `[1, **4, 5**, 2, 8]`: меняем местами второй и третий элементы, так как 5>45>4;
3. `[1, 4, **5, 2**, 8]` → `[1, 4, **2, 5**, 8]`: меняем местами третий и четвертый элементы, так как 5>25>2;
4. `[1, 4, 2, **5, 8**]` → `[1, 4, 2, **5, 8**]`: не меняем четвертый и пятый элементы местами, так как 5<85<8;
5. Самый большой элемент встал («всплыл») на свое место.

**Второй проход:**

1. `[**1, 4**, 2, 5, **8**]` → `[**1, 4**, 2, 5, **8**]`: не меняем первый и второй элементы местами, так как 1<41<4;
2. `[1, **4, 2**, 5, **8**]` → `[1, **2, 4**, 5, **8**]`: меняем местами второй и третий элементы, так как 4>24>2;
3. `[1, 2, **4, 5**, **8**]` → `[1, 2, **4, 5, 8**]`: не меняем местами третий и четвертый элементы, так как 4 <54 <5;
4. Второй по величине элемент встал («всплыл») на свое место.

Теперь список полностью отсортирован, но алгоритму это неизвестно и он работает дальше.

**Третий проход:**

1. `[**1, 2**, 4, **5, 8**]` → `[**1, 2**, 4, **5, 8**]`: не меняем первый и второй элементы местами, так как 1<21<2;
2. `[1, **2, 4**, **5, 8**]` → `[1, **2, 4**, **5, 8**]`: не меняем второй и третий элементы местами, так как 2 <42 <4;
3. Третий по величине элемент встал («всплыл») на свое место. (на котором и был)

**Четвертый проход:**

1. `[**1, 2**, **4**, **5, 8**]` → `[**1, 2**, **4**, **5, 8**]`:
2. Четвертый по величине элемент встал («всплыл») на свое место.

Теперь список отсортирован и алгоритм может быть завершен.

Пусть требуется отсортировать по возрастанию список чисел: `a = [1, 7, -3, 9, 0, -67, 34, 12, 45, 1000, 6,  8, -2, 99]`.

Следующий программный код реализует алгоритм пузырьковой сортировки:

```python
a = [1, 7, -3, 9, 0, -67, 34, 12, 45, 1000, 6,  8, -2, 99]
n = len(a)

for i in range(n - 1):
    for j in range(n - i - 1):
        if a[j] > a[j + 1]:                  # если порядок элементов пары неправильный
            a[j], a[j + 1] = a[j + 1], a[j]  # меняем элементы пары местами 

print('Отсортированный список:', a)
```

Результатом выполнения такого кода будет:

```no-highlight
Отсортированный список: [-67, -3, -2, 0, 1, 6, 7, 8, 9, 12, 34, 45, 99, 1000]
```

## Сортировка выбором

Сортировка выбором улучшает пузырьковую сортировку, совершая всего **один обмен за каждый проход по списку**. Для этого алгоритм ищет максимальный элемент и помещает его на соответствующую позицию. Как и для пузырьковой сортировки, после первого прохода самый большой элемент находится на правильном месте. После второго прохода на своё место становится следующий максимальный элемент. Проходы по списку повторяются �−1n−1 раз, где �n – длина списка, поскольку последний из них автоматически оказывается на своем месте.

Алгоритм сортировки выбором также считается учебным и практически не применяется вне учебной литературы. На практике используют более эффективные алгоритмы.

Рассмотрим работу алгоритма на примере сортировки списка `a = [5, 1, 8, 2, 4]` по возрастанию.

**Первый проход:**

Находим максимальный элемент `8` в неотсортированной части списка и меняем его с последним элементом списка:

`[5, 1, 4, 2, **8**]`.

**Второй проход:**

Находим максимальный элемент `5` в неотсортированной части списка и меняем его с предпоследним элементом списка:

`[2, 1, 4, **5**, **8**]`.

**Третий проход:**

Находим максимальный элемент `4` в неотсортированной части списка и меняем его с пред-предпоследним элементом списка:

`[2, 1, **4**, **5**, **8**]`.

**Четвертый проход:**

Находим максимальный элемент `2` в неотсортированной части списка и меняем его с вторым элементом списка:

`[1, **2**, **4**, **5**, **8**]`.

Теперь список отсортирован и алгоритм может быть завершен.
```python
a = [78, -32, 5, 39, 58, -5, -63, 57, 72, 9, 53, -1, 63, -97, -21, -94, -47, 57, -8, 60, -23, -72, -22, -79, 90, 96, -41, -71, -48, 84, 89, -96, 41, -16, 94, -60, -64, -39, 60, -14, -62, -19, -3, 32, 98, 14, 43, 3, -56, 71, -71, -67, 80, 27, 92, 92, -64, 0, -77, 2, -26, 41, 3, -31, 48, 39, 20, -30, 35, 32, -58, 2, 63, 64, 66, 62, 82, -62, 9, -52, 35, -61, 87, 78, 93, -42, 87, -72, -10, -36, 61, -16, 59, 59, 22, -24, -67, 76, -94, 59]
n = len(a)
while n > 0:
    mx = max(a[:n])
    position = a.index(mx)
    a[n - 1], a[position] = a[position], a[n - 1]
    n -= 1       
print(a)
```
## Сортировка простыми вставками

Алгоритм сортировки простыми вставками делит список на 22 части — отсортированную и неотсортированную. Из неотсортированной части извлекается очередной элемент и вставляется на нужную позицию в отсортированной части, в результате чего отсортированная часть списка увеличивается, а неотсортированная уменьшается. Так происходит, пока не исчерпан набор входных данных  и не отсортированы все элементы.

Сортировка простыми вставками наиболее эффективна, когда список уже частично отсортирован и элементов массива немного. Если элементов в списке меньше 1010, то этот алгоритм — один из самых быстрых.

Рассмотрим его работу на примере сортировки списка `a = [5, 1, 8, 2, 4]` по возрастанию.

**Первый проход:**

Делим список на две части: отсортированную `[5]` и неотсортированную `[1, 8, 2, 4]`.

Извлекаем первый элемент `1` из неотсортированной части списка и находим ему место в отсортированной части:

`[**1, 5**, 8, 2, 4]`.

**Второй проход:**

Делим список на две части: отсортированную `[1, 5]` и неотсортированную `[8, 2, 4]`.

Извлекаем первый элемент `8` из неотсортированной части списка и находим ему место в отсортированной части:

`[**1, 5, 8**, 2, 4]`.

**Третий проход:**

Делим список на две части: отсортированную `[1, 5, 8]` и неотсортированную `[2, 4]`.

Извлекаем первый элемент `2` из неотсортированной части списка и находим ему место в отсортированной части:

`[**1, 2, 5, 8**, 4]`.

**Четвертый проход:**

Делим список на две части: отсортированную `[1, 2, 5, 8]` и неотсортированную `[4]`.

Извлекаем первый элемент `4` из неотсортированной части списка и находим ему место в отсортированной части:

`[**1, 2, 4, 5, 8**]`.

Теперь список отсортирован, и алгоритм может быть завершен.

Пусть требуется отсортировать по возрастанию список чисел: `a = [1, 7, -3, 9, 0, -67, 34, 12, 45, 1000, 6,  8, -2, 99]`.

Следующий программный код реализует алгоритм сортировки простыми вставками:

```python
a = [1, 7, -3, 9, 0, -67, 34, 12, 45, 1000, 6,  8, -2, 99]
n = len(a)

for i in range(1, n): 
    elem = a[i]  # берем первый элемент из неотсортированной части списка
    j = i
    
    # пока элемент слева существует и больше нашего текущего элемента
    while j >= 1 and a[j - 1] > elem:
        # смещаем j-й элемент отсортированной части вправо
        a[j] = a[j - 1]
        # сами идём влево, дальше ищем место для нашего текущего элемента
        j -= 1

    # нашли место для нащего текущего элемента из неотсортированной части
    # и вставляем его на индекс j в отсортированной части
    a[j] = elem


print('Отсортированный список:', a)
```