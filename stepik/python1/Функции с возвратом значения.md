[[python_learn1]]
## Функция с возвратом значения

Функция с возвратом значения похожа на функцию без возврата значения тем, что:

- это набор инструкций, выполняющий определенную задачу;
- когда нужно выполнить функцию, ее вызывают.

Однако когда функция с возвратом значения завершается, она возвращает значение в ту часть программы, которая ее вызвала. Возвращаемое из функции значение используется как любое другое: оно может быть присвоено переменной, выведено на экран, использовано в математическом выражении (если это число) и т. д.

Функцию с возвратом значения пишут точно так же, как и без, но она должна иметь инструкцию `return`.

Вот общий формат определения функции с возвратом значения в Python:

```python
def название_функции():
    блок кода
    return выражение
```

В функции должна быть инструкция `return`, принимающая форму:

```python
return выражение
```

Значение выражения, которое следует за ключевым словом `return`, будет отправлено в ту часть программы, которая вызвала функцию. Это может быть переменная либо выражение, к примеру, математическое.

При изучении вещественных чисел мы решали задачу о переводе градусов по шкале Фаренгейта в градусы по шкале Цельсия по формуле С=5/9(F− 32)

Напишем функцию, которая осуществляет перевод: 

```python
def convert_to_celsius(temp):
    result = (5 / 9) * (temp - 32)
    return result
```

Задача этой функции — принять одно число `temp` в качестве аргумента – количество градусов по шкале Фаренгейта, и вернуть другое — количество градусов по шкале Цельсия.

Рассмотрим ее работу. Первая инструкция в блоке функции присваивает значение `(5 / 9) * (temp - 32)` переменной `result`. Затем исполняется инструкция `return`, которая приводит к завершению исполнения функции и отправляет значение из переменной `result`, назад в ту часть программы, которая вызвала эту функцию.

```python
# функция перевода градусов Фаренгейта в градусы Цельсия
def convert_to_celsius(temp):
    result = (5 / 9) * (temp - 32)
    return result

# основная программа
temp = float(input('Bвeдитe количество градусов по Фаренгейту: '))
celsius = convert_to_celsius(temp)
print(celsius)  # градусы Цельсия
```

Основная программа получает от пользователя одно число – значение в градусах Фаренгейта, и вызывает функцию, передавая значение переменной `temp` в качестве аргумента. Значение, которое возвращается из функции `convert_to_celsius`, присваивается переменной `celsius`.


Взглянем еще раз на функцию `convert_to_celsius()`:

```python
def convert_to_celsius(temp):
    result = (5 / 9) * (temp - 32)
    return result
```

Обратите внимание, что внутри этой функции происходят две вещи: во-первых, переменной `result` присваивается значение выражения `(5 / 9) * (temp - 32)`, и во-вторых, значение переменной `result` возвращается из функции. Эта функция хорошо справляется с поставленной перед ней задачей, но ее можно упростить. Поскольку инструкция `return` возвращает значение выражения, переменную `result` устраняем и переписываем функцию так:

```python
def convert_to_celsius(temp):
    return (5 / 9) * (temp - 32)
```

Эта версия функции не сохраняет значение `(5 / 9) * (temp - 32)` в отдельной переменной, а сразу возвращает значение выражения с помощью инструкции `return`. Делает то же, что и предыдущая версия, но за один шаг.

## Использование нескольких return

В одной функции может быть сколько угодно инструкций `return`. Рассмотрим функцию `convert_grade()`, которая переводит стобалльную оценку в пятибалльную:

```python
def convert_grade(grade):
    if grade >= 90:
        return 5
    elif grade >= 80:
        return 4
    elif grade >= 70: 
        return 3
    elif grade >= 60:
        return 2
    else:
        return 1

# основная программа
grade = int(input('Введите вашу отметку по 100-балльной системе: '))
print(convert_grade(grade))
```

В функции `convert_grade()` используется 5 инструкций `return`. Каждая из них возвращает соответствующее значение и завершает работу функции.

Функцию `convert_grade()` можно переписать с помощью одной инструкции `return`:

```python
def convert_grade(grade):
    if grade >= 90:
        result = 5
    elif grade >= 80:
        result = 4
    elif grade >= 70: 
        result = 3
    elif grade >= 60:
        result = 2
    else:
        result = 1
    
    return result
```
## Решение задач

**Задача 1.** Напишите функцию, которая возвращает длину гипотенузы прямоугольного треугольника по известным значениям его катетов.

**Решение.** Для нахождения длины гипотенузы, нам нужно применить теорему Пифагора: квадрат гипотенузы прямоугольного треугольника, равен сумме квадратов его катетов. Другими словами, если a,b – длины катетов, а c – длина гипотенузы, то имеет место равенство: c^2=a^2+b^2⟹c=(a^2+b^2) ^ 0.5​

Функция, вычисляющая длину гипотенузы, может иметь вид:

```python
def compute_hypotenuse(a, b):
    c = (a ** 2 + b ** 2) ** 0.5
    return c
```

Для извлечения квадратного корня мы использовали оператор возведения в степень. Напомним, что результатом обоих выражений: `math.sqrt(c)` и `c ** 0.5` является одно число c​.

Следующий программный код:

```python
print(compute_hypotenuse(3, 4))
print(compute_hypotenuse(5, 12))
print(compute_hypotenuse(1, 1))
```

выведет:

```no-highlight
5.0                   # длина гипотенузы треугольника с катетами 3 и 4
13.0                  # длина гипотенузы треугольника с катетами 5 и 12
1.4142135623730951    # длина гипотенузы треугольника с катетами 1 и 1
```
Если нужно передать программе числа, считанные с клавиатуры, то мы пишем следующий код:

```python
x = int(input())
y = int(input())

hypotenuse = compute_hypotenuse(x, y)

print(hypotenuse)
```
**Задача 3.** Напишите функцию `sum_digits(n)`, принимающую в качестве аргумента натуральное число и возвращающую сумму его цифр.

**Решение.** Функция `sum_digits(n)` может иметь вид:

```python
def sum_digits(n):
    result = 0
    while n > 0:
        result += n % 10
        n //= 10
    return result
```

Основная программа имеет вид:

```python
n = int(input())
print(sum_digits(n))
```
**Задача 4.** Напишите функцию `compute_average(numbers)`, принимающую в качестве аргумента список чисел и возвращающую среднее значение элементов списка.

**Решение.** Для подсчета среднего значения элементов списка нужно вычислить сумму всех элементов и их количество, то есть использовать функции `sum()` и `len()`. Функция `compute_average(numbers)` может иметь вид:

```python
def compute_average(numbers):
    return sum(numbers) / len(numbers)
```

Основная программа имеет вид:

```python
numbers = [1, 3, 5, 1, 6, 8, 10, 2]
print(compute_average(numbers))
```